# spectrum

MATLAB scripts used for plotting audio spectrum

## Description

+ **spectrum.m**

    Read an audio file, play it and draw the spectrum in real time. The style of the spectrum depends on the refreshFig function that is chosen. To change the refreshFig function, simply replace `refreshFig.m` with `refreshFig-2.m` or `refreshFig-3.m`. 

+ **refreshFig.m**

    This function is called from spectrum.m at a fixed interval of time. It computes the short-time Fourier transform (STFT) of the audio sampled data with a Hann window function, and plots the spectrum in a bar graph. Each bar is corresponding to a pitch in 12 equal temperament tuned to the standard pitch (A4=440Hz). 

    ![demo1](demo/EMBRZ%20-%20Breathe%20(Original%20Mix)-1.gif?raw=true)

+ **refreshFig-2.m**

    Same as `refreshFig.m`, except with a different (exponential) window function. 

+ **refreshFig-3.m**

    Same as `refreshFig.m`, except that it draws a circular spectrum and does not use logarithmic scale for frequency. 

    ![demo2](demo/EMBRZ%20-%20Breathe%20(Original%20Mix)-2.gif?raw=true)

+ **spectrum2.m**

    Save the `refreshFig.m` style spectrum as a video file. 

+ **spectrum3.m**

    Save the `refreshFig-3.m` style spectrum as a video file. 

## Usage

1. Start MATLAB. Change the Current Folder to the directory of this repository. 
2. Enter `spectrum`, `spectrum2`, or `spectrum3` (with no parameter) in the Command Window to run the scripts. 
3. You may wish to add the original audio to the soundless video file generated by MATLAB. To this end, I recommend using [FFmpeg](https://ffmpeg.org). 

## Notes

1. Code is tested in MATLAB R2016a. 
